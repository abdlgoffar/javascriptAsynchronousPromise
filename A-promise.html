<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //promise adalah statement future atau statement 2 kondisi yang bisa di eksekusi dengan method-method bawaan promise tersebut.
        //contoh cara pembuatan ajax dengan statement promise.
        function getApi() {
            return new Promise(function (resolve, reject) {

            const ajax = new XMLHttpRequest();
            ajax.open("GET", "server-api/products.json");
            ajax.onload = function () {
                if (ajax.status === 200) {
                    resolve(ajax.responseText);
                } else {
                    reject(`Error Get Product response status is : ${ajax.status}`);
                }
            };
            ajax.send();
        });
        }

        getApi()
            .then((response) => console.log(response))//method statement promise then() adalah method builder bawaan promise yang biasa digunakan mendapatkan resolve data promise atau result data ataupun untuk memodifikasi data hasil dari statement promise.
            .catch((error) => console.log(error))//method statement promise catch() adalah method builder bawaan promise yang biasa digunakan mendapatkan data error atau promise reject hasil dari statement promise.
            .finally(() => console.log("statement promise is finally"))//method statement promise finally() adalah method builder bawaan promise yang biasa digunakan untuk mengetahui bahwa statement promise telah selesai.
    </script>
</body>
</html>